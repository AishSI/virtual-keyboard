!function(){"use strict";var e={91:function(e){e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},583:function(e,t,i){e.exports=i.p+"assets/favicon_eeb725984c9b02c7cebb.png"}},t={};function i(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,i),a.exports}i.m=e,i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var s=r.length-1;s>-1&&!e;)e=r[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e}(),i.b=document.baseURI||self.location.href,function(){var e=i(91),t=i.n(e),r=new URL(i(583),i.b);t()(r);var s=[["ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","Delete","CapsLock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter","Shift","я","ч","с","м","и","т","ь","б","ю",".","ArrowUp","Shift","Control","Lang","Alt"," ","AltGraph","ArrowLeft","ArrowDown","ArrowRight","Control"],["Ё","!",'"',"№",";","%",":","?","*","(",")","_","+","Backspace","Tab","Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","/","Delete","CapsLock","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","Enter","Shift","Я","Ч","С","М","И","Т","Ь","Б","Ю",",","ArrowUp","Shift","Control","Lang","Alt"," ","AltGraph","ArrowLeft","ArrowDown","ArrowRight","Control"],["Ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","\\","Delete","CapsLock","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","Enter","Shift","Я","Ч","С","М","И","Т","Ь","Б","Ю",".","ArrowUp","Shift","Control","Lang","Alt"," ","AltGraph","ArrowLeft","ArrowDown","ArrowRight","Control"],["ё","!",'"',"№",";","%",":","?","*","(",")","_","+","Backspace","Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","/","Delete","CapsLock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter","Shift","я","ч","с","м","и","т","ь","б","ю",",","ArrowUp","Shift","Control","Lang","Alt"," ","AltGraph","ArrowLeft","ArrowDown","ArrowRight","Control"],["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","Delete","CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter","Shift","z","x","c","v","b","n","m",",",".","/","ArrowUp","Shift","Control","Lang","Alt"," ","Alt","ArrowLeft","ArrowDown","ArrowRight","Control"],["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace","Tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|","Delete","CapsLock","A","S","D","F","G","H","J","K","L",":",'"',"Enter","Shift","Z","X","C","V","B","N","M","<",">","?","ArrowUp","Shift","Control","Lang","Alt"," ","Alt","ArrowLeft","ArrowDown","ArrowRight","Control"],["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","Q","W","E","R","T","Y","U","I","O","P","[","]","\\","Delete","CapsLock","A","S","D","F","G","H","J","K","L",";","'","Enter","Shift","Z","X","C","V","B","N","M",",",".","/","ArrowUp","Shift","Control","Lang","Alt"," ","Alt","ArrowLeft","ArrowDown","ArrowRight","Control"],["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","{","}","|","Delete","CapsLock","a","s","d","f","g","h","j","k","l",":",'"',"Enter","Shift","z","x","c","v","b","n","m","<",">","?","ArrowUp","Shift","Control","Lang","Alt"," ","Alt","ArrowLeft","ArrowDown","ArrowRight","Control"],["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace","Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","Delete","CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter","ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","ArrowUp","ShiftRight","ControlLeft","Lang","AltLeft","Space","AltRight","ArrowLeft","ArrowDown","ArrowRight","ControlRight"],[0,1,2,3,4,5,6,7,8,9,10,11,12,15,16,17,18,19,20,21,22,23,24,25,26,27,30,31,32,33,34,35,36,37,38,39,40,43,44,45,46,47,48,49,50,51,52],["Backspace","Tab","Delete","CapsLock","Enter","ShiftLeft","ShiftRight","ControlLeft","Lang","AltLeft","AltRight","ControlRight"]];const a=document.body;var n={keyCode:[],layoutKeys:0,language:!1,caps:!1,shiftLeftActive:!1,shiftRightActive:!1,textScreen:"",keyboard:"",noTextKey:[],createKeyboardTemplate(){localStorage.getItem("language")&&(this.language="true"===localStorage.getItem("language"));const e=document.createElement("div");e.classList.add("wrapper"),e.innerHTML='\n    <h1 class="title">RSS Виртуальная клавиатура</h1>\n    <textarea class="textarea" id="textScreen"></textarea>    \n    <div class="grid-container keyboard"></div>    \n    <p class="description">Клавиатура создана в операционной системе Windows</p>\n    <p class="description">Переключение языка: левые Ctrl + Alt</p>\n    ',a.append(e),this.keyboard=document.querySelector(".keyboard"),this.textScreen=document.querySelector("#textScreen")},fillKeysKeyboard(){this.layoutKeys=parseInt(`${Number(this.language)}${Number(this.caps)}${Number(this.shiftLeftActive||this.shiftRightActive)}`,2);const e=document.querySelector(".keyboard");e.innerHTML="";const t=s[this.layoutKeys];this.keyCode=[...s[8]],this.noTextKey=[...s[10]],t.forEach(((t,i)=>{const r=document.createElement("button");switch(r.classList.add("keyboard__key"),r.classList.add(`${this.keyCode[i]}`),i){case 28:r.innerHTML="Del";break;case 29:this.caps&&r.classList.add("active"),r.innerHTML="CapsLock";break;case 42:this.shiftLeftActive&&r.classList.add("active"),r.innerHTML="Shift";break;case 53:r.innerHTML="&#9650;";break;case 54:this.shiftRightActive&&r.classList.add("active"),r.innerHTML="Shift";break;case 55:case 63:r.innerHTML="Ctrl";break;case 56:r.innerHTML="&#127760;";break;case 59:r.innerHTML="Alt";break;case 60:r.innerHTML="&#9668;";break;case 61:r.innerHTML="&#9660;";break;case 62:r.innerHTML="&#9658;";break;default:r.innerHTML=`${t}`}e.append(r)}))},updateKeysKeyboard(){this.layoutKeys=parseInt(`${Number(this.language)}${Number(this.caps)}${Number(this.shiftLeftActive||this.shiftRightActive)}`,2);const e=s[this.layoutKeys],t=document.querySelectorAll(".keyboard__key");[...s[9]].forEach((i=>{t[i].innerHTML="",t[i].innerHTML=`${e[i]}`})),this.caps&&t[29].classList.add("active"),this.caps||t[29].classList.remove("active"),this.shiftLeftActive&&t[42].classList.add("active"),this.shiftLeftActive||t[42].classList.remove("active"),this.shiftRightActive&&t[54].classList.add("active"),this.shiftRightActive||t[54].classList.remove("active")},delSelection(e){const t=this.textScreen.value,i=this.textScreen.selectionStart,r=this.textScreen.selectionEnd;i!==r?(this.textScreen.value=t.slice(0,i)+t.slice(r),this.textScreen.selectionStart=i,this.textScreen.selectionEnd=i):("Backspace"===e&&i>0&&(this.textScreen.value=t.slice(0,i-1)+t.slice(r),this.textScreen.selectionStart=i-1,this.textScreen.selectionEnd=i-1),"Delete"===e&&i<t.length&&(this.textScreen.value=t.slice(0,i)+t.slice(r+1),this.textScreen.selectionStart=i,this.textScreen.selectionEnd=i))},insertLetter(e){const t=this.textScreen.value,i=this.textScreen.selectionStart,r=this.textScreen.selectionEnd;this.textScreen.value=t.slice(0,i)+e+t.slice(r),this.textScreen.selectionStart=i+e.length,this.textScreen.selectionEnd=i+e.length},mouseKeyboard(){this.keyboard.addEventListener("mousedown",(e=>{if(e.preventDefault(),this.textScreen.focus(),e.target.classList.contains("ShiftLeft")&&(this.shiftLeftActive=!0),e.target.classList.contains("ShiftRight")&&(this.shiftRightActive=!0),"CapsLock"===e.target.innerText&&(this.caps=!this.caps),"CapsLock"!==e.target.innerText&&"Shift"!==e.target.innerText||this.updateKeysKeyboard(),e.target.closest(".keyboard__key"))switch(e.target.classList[1]){case"Backspace":this.delSelection("Backspace");break;case"Tab":this.insertLetter("\t");break;case"Delete":this.delSelection("Delete");break;case"Enter":this.insertLetter("\n");break;case"Lang":this.language=!this.language,this.updateKeysKeyboard();break;case"Space":this.insertLetter(" ");break;default:this.noTextKey.includes(e.target.classList[1])||this.insertLetter(e.target.innerText)}})),this.keyboard.addEventListener("mouseup",(e=>{e.target.classList.contains("ShiftLeft")&&(this.shiftLeftActive=!1,this.updateKeysKeyboard()),e.target.classList.contains("ShiftRight")&&(this.shiftRightActive=!1,this.updateKeysKeyboard())}))},physicalKeys(){document.addEventListener("keydown",(e=>{if(e.preventDefault(),this.textScreen.focus(),this.keyCode.includes(e.code))switch("CapsLock"===e.code?(this.caps=!this.caps,this.updateKeysKeyboard()):"Shift"===e.key?("ShiftLeft"===e.code&&(this.shiftLeftActive=!0),"ShiftRight"===e.code&&(this.shiftRightActive=!0),this.updateKeysKeyboard()):document.querySelector(`.${e.code}`).classList.add("active"),e.code){case"Backspace":this.delSelection("Backspace");break;case"Tab":this.insertLetter("\t");break;case"Delete":this.delSelection("Delete");break;case"Enter":this.insertLetter("\n");break;case"Space":this.insertLetter(" ");break;default:if(!this.noTextKey.includes(e.code)){const t=document.querySelector(`.${e.code}`);this.insertLetter(t.innerText)}}})),document.addEventListener("keyup",(e=>{e.preventDefault(),this.keyCode.includes(e.code)&&("Shift"===e.key&&(this.shiftLeftActive=!1,this.shiftRightActive=!1,this.updateKeysKeyboard()),"CapsLock"!==e.code&&document.querySelector(`.${e.code}`).classList.remove("active"))}))},runShortcut(){const e=["AltLeft","ControlLeft"],t=new Set;document.addEventListener("keydown",(i=>{i.preventDefault(),t.add(i.code),e.every((e=>t.has(e)))&&(t.clear(),this.language=!this.language,localStorage.setItem("language",this.language),this.updateKeysKeyboard())})),document.addEventListener("keyup",(e=>{t.delete(e.code)}))}};n.createKeyboardTemplate(),n.fillKeysKeyboard(),n.mouseKeyboard(),n.physicalKeys(),n.runShortcut()}()}();